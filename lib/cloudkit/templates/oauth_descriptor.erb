<?xml version="1.0" encoding="UTF-8"?>
<XRDS xmlns="xri://$xrds">
  <XRD xml:id="oauth" xmlns:simple="http://xrds-simple.net/core/1.0" xmlns="xri://$XRD*($v*2.0)" version="2.0">
    <Type>xri://$xrds*simple</Type>
    <Expires><%= Time.at(Time.now.to_i + 2592000).utc.xmlschema %></Expires>
    <Service priority="10">
      <Type>http://oauth.net/core/1.0/endpoint/request</Type>
      <Type>http://oauth.net/core/1.0/parameters/auth-header</Type>
      <Type>http://oauth.net/core/1.0/parameters/uri-query</Type>
      <Type>http://oauth.net/core/1.0/signature/PLAINTEXT</Type>
      <URI><%= request.scheme %>://<%= request.env['HTTP_HOST'] %>/oauth/request_tokens</URI>
    </Service>
    <Service priority="10">
      <Type>http://oauth.net/core/1.0/endpoint/authorize</Type>
      <Type>http://oauth.net/core/1.0/parameters/uri-query</Type>
      <URI><%= request.scheme %>://<%= request.env['HTTP_HOST'] %>/oauth/authorization</URI>
    </Service>
    <Service priority="10">
      <Type>http://oauth.net/core/1.0/endpoint/access</Type>
      <Type>http://oauth.net/core/1.0/parameters/auth-header</Type>
      <Type>http://oauth.net/core/1.0/parameters/uri-query</Type>
      <Type>http://oauth.net/core/1.0/signature/PLAINTEXT</Type>
      <URI><%= request.scheme %>://<%= request.env['HTTP_HOST'] %>/oauth/access_tokens</URI>
    </Service>
    <Service priority="10">
      <Type>http://oauth.net/core/1.0/endpoint/resource</Type>
      <Type>http://oauth.net/core/1.0/parameters/auth-header</Type>
      <Type>http://oauth.net/core/1.0/parameters/uri-query</Type>
      <Type>http://oauth.net/core/1.0/signature/HMAC-SHA1</Type>
    </Service>
    <Service priority="10">
      <Type>http://oauth.net/discovery/1.0/consumer-identity/static</Type>
      <LocalID>cloudkitconsumer</LocalID>
    </Service>
  </XRD>
  <XRD xmlns="xri://$XRD*($v*2.0)" version="2.0">
    <Type>xri://$xrds*simple</Type>
    <Service priority="10">
      <Type>http://oauth.net/discovery/1.0</Type>
      <URI>#oauth</URI>
    </Service>
  </XRD>
</XRDS>
